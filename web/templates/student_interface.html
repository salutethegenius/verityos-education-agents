<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerityOS Student Portal</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body class="student-interface">
    <div id="app-container">
        <!-- Sidebar for chat history -->
        <div id="sidebar">
            <button id="sidebar-toggle" title="Toggle Chat History">
                <span id="toggle-icon">‚óÄ</span>
            </button>
            <div id="sidebar-header">
                <h3>Chat History</h3>
                <button id="new-chat-btn">+ New Chat</button>
            </div>
            <div id="chat-history-list">
                <!-- Chat history items will be populated here -->
            </div>
        </div>

        <!-- Main chat area -->
        <div id="main-content">
            <div class="student-header">
                <h1>üéì VerityOS Education - Student Portal</h1>
                <div class="student-info">
                    <span id="student-welcome">Welcome, Student!</span>
                    <button onclick="logout()" class="button button-danger logout-btn">Logout</button>
                </div>
            </div>

            <div id="chat-container">
                <div id="chat-window">
                    <div class="message bot">Welcome to VerityOS Education! I'm here to help you learn. What would you like to study today?</div>
                </div>

                <div id="input-area">
                    <textarea id="message-input" placeholder="Ask me anything about your studies... (Max 300 characters)" maxlength="300"></textarea>
                    <button id="send-button" class="button button-success">Send</button>
                </div>

                <div class="student-notice">
                    <small>üí° Keep questions focused on your studies. Teachers can see your learning progress!</small>
                </div>
            </div>
        </div>

        <!-- Right sidebar for agent controls -->
        <div id="controls-sidebar">
            <div id="agent-controls">
                <h3>üìö Learning Assistants</h3>
                <div class="control-group">
                    <label>ü§ñ Assistant</label>
                    <select id="agent-select">
                        <option value="sage">üßô‚Äç‚ôÇÔ∏è Sage - Tutor</option>
                        <option value="echo">üó£Ô∏è Echo - Reading Coach</option>
                        <option value="lucaya">üîç Lucaya - Research</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>üìñ Subject</label>
                    <select id="subject-select">
                        <option value="math">Mathematics</option>
                        <option value="science">Science</option>
                        <option value="english">English</option>
                        <option value="history">History</option>
                        <option value="bahamas studies">Bahamas Studies</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>üìù Activity</label>
                    <select id="task-select">
                        <option value="homework">Homework Help</option>
                        <option value="study">Study Session</option>
                        <option value="quiz">Practice Quiz</option>
                        <option value="review">Review</option>
                    </select>
                </div>
            </div>

            <div id="agent-help">
                <h3>üí° How to Use</h3>
                <div id="help-content">
                    <h4>üßô‚Äç‚ôÇÔ∏è Sage - Math Homework Help</h4>
                    <div class="help-samples">
                        <div class="sample-text" onclick="fillSampleText('What is 25 + 47?')">‚Ä¢ "What is 25 + 47?"</div>
                        <div class="sample-text" onclick="fillSampleText('Help me solve: 2x + 5 = 15')">‚Ä¢ "Help me solve: 2x + 5 = 15"</div>
                        <div class="sample-text" onclick="fillSampleText('Check my work: 12 √ó 8 = 96')">‚Ä¢ "Check my work: 12 √ó 8 = 96"</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <script>
        // Complete Radix UI blocking before any other scripts
        (function() {
          // Block all Radix globals
          Object.defineProperty(window, 'RadixUI', { value: undefined, writable: false });
          Object.defineProperty(window, 'Radix', { value: undefined, writable: false });
          
          // Override console to block Radix messages
          const originalConsole = console.log;
          console.log = function(...args) {
            const message = args.join(' ');
            if (message.includes('[RADIX]') || message.includes('Radix UI')) return;
            originalConsole.apply(console, args);
          };
        })();
    </script>
    <script src="/static/js/student_app.js"></script>
</body>
</html>