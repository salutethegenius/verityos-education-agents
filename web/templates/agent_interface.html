<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>VerityOS Education Agents</title>
  <link rel="stylesheet" href="/static/css/style.css">
  <meta name="robots" content="noindex">
</head>
<body>
  <nav style="background-color: #f0f0f0; padding: 10px;">
    <a href="/student-login" style="text-decoration: none; color: blue;">Student Portal</a>
  </nav>
  <div id="app-container">
    <!-- Sidebar for chat history -->
    <div id="sidebar">
      <button id="sidebar-toggle" title="Toggle Chat History">
        <span id="toggle-icon">‚ü®</span>
      </button>
      <div id="sidebar-header">
        <h3><span class="sidebar-text">Chat History</span></h3>
        <div id="chat-search-container">
          <input type="text" id="chat-search-input" placeholder="Search chats..." class="sidebar-text">
          <span id="search-icon">üîç</span>
        </div>
        <button id="new-chat-btn">
          <span class="sidebar-text">+ New Chat</span>
        </button>
      </div>
      <div id="chat-history-list">
        <!-- Chat history items will be populated here -->
      </div>
    </div>

    <!-- Main chat area -->
    <div id="main-content">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-4); padding: var(--space-6) var(--space-6) 0;">
        <h1 style="margin: 0; background: linear-gradient(135deg, #60a5fa, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; color: #60a5fa; font-size: var(--font-size-3xl); font-weight: 700;">VerityOS Education Agents</h1>
        <a href="/dashboard" class="button button-primary" style="text-decoration: none; display: flex; align-items: center; gap: var(--space-2);">
          <span>üìä</span>
          <span>Teacher Dashboard</span>
        </a>
      </div>

      <div id="chat-container">
        <div id="chat-window">
          <div class="message bot">Welcome to the VerityOS Education Agents! How can I help you today?</div>
        </div>

        <div id="input-area">
          <textarea id="message-input" placeholder="Type your message here... (Shift+Enter for new line)"></textarea>
          <button id="send-button">Send</button>
        </div>
      </div>
    </div>

    <!-- Right sidebar for agent controls and AI settings -->
    <div id="controls-sidebar">
      <div id="agent-controls">
        <h3>ü§ñ Agent Selection</h3>
        <select id="agent-select">
          <option value="sage">Sage (Tutor)</option>
          <option value="quill" disabled>Quill (Autograder) - Coming Soon</option>
          <option value="lucaya">Lucaya (Research)</option>
          <option value="echo">Echo (Comprehension)</option>
          <option value="coral">ü™∏ Coral - Teacher Admin</option>
          <option value="pineapple">Pineapple (Homework)</option>
        </select>

        <div class="control-group">
          <label for="subject-select">Subject:</label>
          <select id="subject-select">
            <!-- Options will be populated by JavaScript based on selected agent -->
          </select>
        </div>

        <div class="control-group">
          <label for="task-select">Task:</label>
          <select id="task-select">
            <!-- Options will be populated by JavaScript based on selected agent -->
          </select>
        </div>
      </div>

      <div id="ai-settings">
        <h3>‚öôÔ∏è AI Settings</h3>

        <div class="control-group">
          <label for="temperature-slider">Creativity Level:</label>
          <div class="slider-container">
            <div class="slider-wrapper">
              <div class="slider-track">
                <input type="range" id="temperature-slider" min="0" max="10" value="7" step="1">
              </div>
              <span id="temperature-value">7</span>
            </div>
            <div class="slider-labels">
              <span class="left-label">Focused</span>
              <span class="right-label">Creative</span>
            </div>
          </div>
        </div>

        <div class="control-group">
          <label for="response-length">Response Length:</label>
          <select id="response-length">
            <option value="short">Brief</option>
            <option value="medium" selected>Balanced</option>
            <option value="long">Detailed</option>
          </select>
        </div>

        <div class="control-group">
          <label for="focus-mode">Focus Mode:</label>
          <select id="focus-mode">
            <option value="educational" selected>Educational</option>
            <option value="conversational">Conversational</option>
            <option value="problem-solving">Problem Solving</option>
          </select>
        </div>

        <div class="control-group">
          <label for="explanation-style">Explanation Style:</label>
          <select id="explanation-style">
            <option value="simple">Simple</option>
            <option value="standard" selected>Standard</option>
            <option value="detailed">Detailed</option>
          </select>
        </div>

        <div class="control-group checkbox-group">
          <label>
            <input type="checkbox" id="bahamian-context" checked>
            Use Bahamian Context
          </label>
        </div>

        <div class="control-group checkbox-group">
          <label>
            <input type="checkbox" id="step-by-step" checked>
            Show Step-by-Step
          </label>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    // Complete Radix UI blocking before any other scripts
    (function() {
      // Block all Radix globals safely
      try {
        if (!window.RadixUI) {
          Object.defineProperty(window, 'RadixUI', { 
            value: undefined, 
            writable: false, 
            configurable: true 
          });
        }
      } catch (e) { /* Ignore if already exists */ }
      
      try {
        if (!window.Radix) {
          Object.defineProperty(window, 'Radix', { 
            value: undefined, 
            writable: false, 
            configurable: true 
          });
        }
      } catch (e) { /* Ignore if already exists */ }
      
      // Override console to block Radix messages
      const originalConsole = console.log;
      console.log = function(...args) {
        const message = args.join(' ');
        if (message.includes('[RADIX]') || message.includes('Radix UI')) return;
        originalConsole.apply(console, args);
      };
    })();
  </script>
  <script src="/static/js/app.js"></script>
</body>
</html>